<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Mobile TESTS->Tools</title>
</head>
<body  onload="onLoad()">
    <div style="background-color:#00FFFF; width:100%; font-size: large;"><a href="index.html" style="background-color: #FFFF00">Back</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tools</div> <hr />
    Actions: <br />
    <button id="btnDeviceInfo" onclick="getinfoclick()" >Get device info</button>
    <button id="btnCall" onclick="callNumber()" >Call number</button>
    <button id="btnCurrDate" onclick="currDate()" >Get Date</button>
     <button id="btnShoLog" onclick="showLog()" >Show log</button>
    <button id="btnClearLog" onclick="clearLog()" >Clear log</button>

    <hr />
    Inputs: <br />
    <input id="inp1"  value="0903454823"/>

    <hr />
    Results: <br />
    <label id="lblResult">results....</label>

    <script>


        function showLog() {
            try {
                var sArr = LogArray.getLog();
                var s = "";
                for (var i = 0; i < sArr.length; i++) {
                    s += sArr[i] + "<br/>";
                }

                document.getElementById("lblResult").innerHTML = s;
            }
            catch (err) {
                showerror(err);
            }
        };

        function clearLog() {
            try {
                LogArray.clearLog();
            }
            catch (err) {
                showerror(err);
            }

        };

        function getinfoclick() {
            try{
                var s = getDeviceInfo();
                var el = document.getElementById("lblResult");
                el.innerHTML = s;
            }
            catch(err) {
                showerror(err);
            }
        };

        function callNumber() {
            try {
                var el = document.getElementById("inp1");
                var telNo = el.innerHTML;
            }
            catch (err) {
                showerror(err);
            }

        };

        function showerror(err) {
            document.getElementById("lblResult").innerHTML = err.message;
        };
        

        function currDate() {
            try {
                var el = document.getElementById("lblResult");
                el.innerHTML = Date();
            }
            catch (err) {
                showerror(err);
            }

        };

        function onLoad() {

            document.addEventListener("deviceready", onDeviceReady, false);
            LogArray.addMessage("onDeviceReady", "Info");
            showerror("device ready starts");
        };

        function onDeviceReady() {
            LogArray.addMessage("onDeviceReady OK", "Info");
            showerror("device ready OK");
        };

    </script>

    <script src="phonegap.js"></script>
    <script src="Scripts/Tools.js"></script>
    <script src="Scripts/LogArray.js"></script>

</body>
</html>
